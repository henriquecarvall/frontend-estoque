<div class="produtos-container">
  <h2>ğŸ“¦ Lista de Produtos</h2>

  <div class="loading" *ngIf="carregando">
    Carregando produtos...
  </div>

  <div *ngIf="!carregando">
    <div class="busca-container">
      <input
        type="text"
        placeholder="ğŸ” Buscar produto..."
        [(ngModel)]="termoBusca"
        (input)="filtrarProdutos()"
        class="campo-busca">
    </div>

    <table class="tabela-produtos">
      <thead>
      <tr>
        <th (click)="ordenarPor('codigo')" class="ordenavel">
          CÃ³digo <span class="seta">{{ colunaOrdenada === 'codigo' ? (ordemAscendente ? 'â†‘' : 'â†“') : '' }}</span>
        </th>
        <th (click)="ordenarPor('nome')" class="ordenavel">
          Nome <span class="seta">{{ colunaOrdenada === 'nome' ? (ordemAscendente ? 'â†‘' : 'â†“') : '' }}</span>
        </th>
        <th (click)="ordenarPor('quantidadeEstoque')" class="ordenavel">
          Estoque <span class="seta">{{ colunaOrdenada === 'quantidadeEstoque' ? (ordemAscendente ? 'â†‘' : 'â†“') : '' }}</span>
        </th>
        <th (click)="ordenarPor('precoUnitario')" class="ordenavel">
          PreÃ§o <span class="seta">{{ colunaOrdenada === 'precoUnitario' ? (ordemAscendente ? 'â†‘' : 'â†“') : '' }}</span>
        </th>
        <th>Categoria</th>
        <th>AÃ§Ãµes</th>
      </tr>
      </thead>
      <tbody>
      <tr *ngFor="let produto of produtosFiltrados">
        <td>{{ produto.codigo }}</td>
        <td>{{ produto.nome }}</td>
        <td>{{ produto.quantidadeEstoque }}</td>
        <td>R$ {{ produto.precoUnitario.toFixed(2) }}</td>
        <td>{{ produto.categoria }}</td>
        <td class="acoes">
          <button class="btn-editar" (click)="editarProduto(produto.id)">âœï¸ Editar</button>
          <button class="btn-excluir" (click)="excluirProduto(produto.id)">ğŸ—‘ï¸ Excluir</button>
        </td>
      </tr>
      </tbody>
    </table>

    <div *ngIf="produtosFiltrados.length === 0" class="sem-resultados">
      Nenhum produto encontrado.
    </div>
  </div>

  <button class="btn-voltar" routerLink="/">â† Voltar para Home</button>
</div>
