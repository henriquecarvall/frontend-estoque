<div class="form-container">
  <h2>‚ûï Adicionar Novo Usu√°rio</h2>

  <form (ngSubmit)="adicionarUsuario()" #usuarioForm="ngForm" class="usuario-form">
    <div class="form-group">
      <label for="nome">Nome Completo:</label>
      <input type="text" id="nome" [(ngModel)]="usuario.nome" name="nome" required minlength="2" #nomeInput="ngModel">
      <div class="erro" *ngIf="nomeInput.invalid && (nomeInput.dirty || nomeInput.touched)">
        <div *ngIf="nomeInput.errors?.['required']">Nome √© obrigat√≥rio</div>
        <div *ngIf="nomeInput.errors?.['minlength']">Nome deve ter pelo menos 2 caracteres</div>
      </div>
    </div>

    <div class="form-group">
      <label for="email">Email:</label>
      <input type="email" id="email" [(ngModel)]="usuario.email" name="email" required #emailInput="ngModel">
      <div class="erro" *ngIf="emailInput.invalid && (emailInput.dirty || emailInput.touched)">
        <div *ngIf="emailInput.errors?.['required']">Email √© obrigat√≥rio</div>
      </div>
    </div>

    <div class="form-group">
      <label for="perfil">Perfil:</label>
      <select id="perfil" [(ngModel)]="usuario.perfil" name="perfil" required #perfilInput="ngModel">
        <option value="OPERADOR">Operador</option>
        <option value="ADMIN">Administrador</option>
      </select>
    </div>

    <div class="form-group">
      <label for="senha">Senha:</label>
      <div class="senha-container">
        <input type="password" id="senha" [(ngModel)]="usuario.senha" name="senha" required #senhaInput="ngModel">
        <button type="button" class="btn-gerar" (click)="gerarSenha()">üé≤ Gerar Senha</button>
      </div>
      <div class="dica-senha">
        A senha deve ter no m√≠nimo 8 caracteres, 1 letra mai√∫scula e 1 n√∫mero
      </div>
    </div>

    <div class="form-group">
      <label for="confirmarSenha">Confirmar Senha:</label>
      <input type="password" id="confirmarSenha" [(ngModel)]="confirmarSenha" name="confirmarSenha" required #confirmarSenhaInput="ngModel">
    </div>

    <div class="form-group">
      <label class="checkbox-container">
        <input type="checkbox" [(ngModel)]="usuario.ativo" name="ativo">
        <span class="checkmark"></span>
        Usu√°rio ativo
      </label>
    </div>

    <div class="form-buttons">
      <button type="submit" class="btn-salvar" [disabled]="usuarioForm.invalid || carregando">
        {{ carregando ? 'Salvando...' : 'üíæ Criar Usu√°rio' }}
      </button>
      <button type="button" class="btn-voltar" routerLink="/usuarios">‚Ü©Ô∏è Voltar</button>
    </div>
  </form>
</div>
